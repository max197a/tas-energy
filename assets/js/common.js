!function(){var e=$(".global-preloader");setTimeout(function(){e.addClass("is-logo-show")},550),$(window).on("load",function(){setTimeout(function(){e.addClass("is-content-load"),setTimeout(function(){$("body").css("overflow","visible")},1e3),(new WOW).init()},1500)})}(),$(document).ready(function(){$.ajax("http://167.99.203.107:8080/").done(function(e){$("#span_price").html(e.price)})}),$(document).ready(function(){function e(e,n){$(e).click(function(e){var o=$(this).attr("href"),t=$(o).offset().top;t<0&&(t=0),$("html, body").animate({scrollTop:t-n},"slow"),e.preventDefault()})}setTimeout(function(){$("iframe").attr("src","https://www.ventusky.com/")},3500),function(){Barba.Pjax.init(),Barba.Prefetch.init(),$("body").append('<div class="page-preloader"><div class="global-preloader__under"></div></div>');var e=$(".page-preloader"),n=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.showLoader()]).then(this.hideLoader.bind(this))},showLoader:function(){return e.addClass("is-page-load-start"),$(this.oldContainer).promise()},hideLoader:function(){var n=this,o=$(this.newContainer);setTimeout(function(){e.addClass("is-page-load-end"),o.animate({},400,function(){n.done()}),setTimeout(function(){e.removeClass("is-page-load-start is-page-load-end")},800),$("body").css("overflow","visible")},500)}});Barba.Dispatcher.on("newPageReady",function(e,n,o){setTimeout(function(){$.each($(".animated"),function(){$(this).removeClass("animated").removeAttr("style")}),(new WOW).init()},500),setTimeout(function(){$("iframe").attr("src","https://www.ventusky.com/")},1500)}),Barba.Pjax.getTransition=function(){return n}}(),$(".f-right__show").hover(function(e){$(this).find(".f-right__dropdown").fadeIn()},function(){$(".f-right__dropdown").fadeOut()}),function(){$(document).width()>993&&($(document).on("mouseover",".header__languages",function(e){e.preventDefault(),$(this).find(".header__more-languages").fadeIn()}),$(document).on("mouseleave",".header__languages",function(e){e.preventDefault(),$(this).find(".header__more-languages").fadeOut()}))}(),$(document).on("mouseover",".hover-link",function(e){e.preventDefault(),$(this).parent().parent().addClass("is-hover")}),$(document).on("mouseleave",".hover-link",function(e){e.preventDefault(),$(this).parent().parent().removeClass("is-hover")}),$(document).ready(function(){$(document).on("click","#nav-icon2",function(){$(this).toggleClass("open"),$(".header__left-mobile").toggleClass("is-open"),$("body").css("overflow","hidden")})}),$(document).ready(function(){$(document).on("click","#nav-icon2.open",function(){$("body").css("overflow","auto")})}),$(document).ready(function(){$(document).on("click",".menu-link",function(){$("ul li a").removeClass("is-active"),$(".enter-link").removeClass("is-active"),$(".header__left-mobile").removeClass("is-open"),$("#nav-icon2").removeClass("open"),$(this).addClass("is-active")})}),$(document).ready(function(){$(document).on("click",".enter-link",function(){$(".header a").removeClass("is-active"),$(".header__left-mobile").removeClass("is-open"),$("#nav-icon2").removeClass("open"),$(this).addClass("is-active")})}),$(".input-login").each(function(){""!=$(this).val()&&$(this).parent().addClass("animation")}),$(".login-input").focus(function(){$(this).parent().addClass("animation animation-color")}),$(".login-input").focusout(function(){""===$(this).val()&&$(this).parent().removeClass("animation"),$(this).parent().removeClass("animation-color")}),$(".open-popup").magnificPopup({removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect")}},midClick:!0}),function(){function e(){$(document).width()>992?($(".personal__info").hasClass("slick-initialized")&&$(".personal__info").slick("unslick"),$(".personal__image-carousel").hasClass("slick-initialized")&&$(".personal__image-carousel").slick("unslick")):($(".personal__info").hasClass("slick-initialized")||$(".personal__info").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,centerMode:!0,asNavFor:".personal__image-carousel"}),$(".personal__image-carousel").hasClass("slick-initialized")||$(".personal__image-carousel").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".personal__info",dots:!0,focusOnSelect:!0}))}$(document).on("mouseover",".personal__link",function(e){e.preventDefault();var n=$(this),o=n.index();n.siblings().removeClass("is-active"),n.addClass("is-active"),$(".personal__image").fadeOut().eq(o).fadeIn(500)}),e(),$(window).resize(function(){e()})}(),$(document).on("click",'a[href="#"]',function(e){e.preventDefault()}),$(window).scroll(function(){$(window).scrollTop()+$(window).height();$(window).scrollTop()>250?$(".bottom-arrow").addClass("is-active"):$(".bottom-arrow").removeClass("is-active")});var n=$(window);!function(){$("[js-teleport]").each(function(e,o){function t(){var e;"<"===r?e=n.width()<l:">"===r&&(e=n.width()>l),e?(s.html(a),i.html("")):(i.html(a),s.html(""))}var i=$(o),a=$(o).html(),s=$("[data-teleport-target="+$(o).data("teleport-to")+"]"),l=$(o).data("teleport-condition").substring(1),r=$(o).data("teleport-condition").substring(0,1);s&&a&&r&&(t(),n.on("resize",t))})}(),function(){$(document).width()>1268?$(document).find(".enter-link").html("Увійти до кабінету"):$(document).find(".enter-link").html("Увійти"),$(window).resize(function(){$(document).width()>1268?$(document).find(".enter-link").html("Увійти до кабінету"):$(document).find(".enter-link").html("Увійти")})}(),e("a[href='#anchor']",67)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyIkcHJlbG9hZGVyIiwiJCIsInNldFRpbWVvdXQiLCJhZGRDbGFzcyIsIndpbmRvdyIsIm9uIiwiY3NzIiwiV09XIiwiaW5pdCIsImRvY3VtZW50IiwicmVhZHkiLCJhamF4IiwiZG9uZSIsImRhdGEiLCJodG1sIiwicHJpY2UiLCJzY3JvbGxUb0VsZW1lbnQiLCJlbGVtZW50Iiwib2Zmc2V0IiwiY2xpY2siLCJlIiwiZWxlbWVudENsaWNrIiwidGhpcyIsImF0dHIiLCJkZXN0aW5hdGlvbiIsInRvcCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJwcmV2ZW50RGVmYXVsdCIsIkJhcmJhIiwiUGpheCIsIlByZWZldGNoIiwiYXBwZW5kIiwiJHBhZ2VQcmVsb2FkZXIiLCJGYWRlVHJhbnNpdGlvbiIsIkJhc2VUcmFuc2l0aW9uIiwiZXh0ZW5kIiwic3RhcnQiLCJQcm9taXNlIiwiYWxsIiwibmV3Q29udGFpbmVyTG9hZGluZyIsInNob3dMb2FkZXIiLCJ0aGVuIiwiaGlkZUxvYWRlciIsImJpbmQiLCJvbGRDb250YWluZXIiLCJwcm9taXNlIiwiX3RoaXMiLCIkZWwiLCJuZXdDb250YWluZXIiLCJyZW1vdmVDbGFzcyIsIkRpc3BhdGNoZXIiLCJjdXJyZW50U3RhdHVzIiwib2xkU3RhdHVzIiwiY29udGFpbmVyIiwiZWFjaCIsInJlbW92ZUF0dHIiLCJnZXRUcmFuc2l0aW9uIiwiaG92ZXIiLCJmaW5kIiwiZmFkZUluIiwiZmFkZU91dCIsIndpZHRoIiwicGFyZW50IiwidG9nZ2xlQ2xhc3MiLCJ2YWwiLCJmb2N1cyIsImZvY3Vzb3V0IiwibWFnbmlmaWNQb3B1cCIsInJlbW92YWxEZWxheSIsImNhbGxiYWNrcyIsImJlZm9yZU9wZW4iLCJzdCIsIm1haW5DbGFzcyIsImVsIiwibWlkQ2xpY2siLCJwZXJzb25hbEluZm9TbGlkZXJJbml0IiwiaGFzQ2xhc3MiLCJzbGljayIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwiYXJyb3dzIiwiZmFkZSIsImNlbnRlck1vZGUiLCJhc05hdkZvciIsImRvdHMiLCJmb2N1c09uU2VsZWN0IiwiJHNlbGYiLCJ0YWJJbmRleCIsImluZGV4Iiwic2libGluZ3MiLCJlcSIsInJlc2l6ZSIsInNjcm9sbCIsImhlaWdodCIsIl93aW5kb3ciLCJpIiwidGVsZXBvcnQiLCJjb25kaXRpb24iLCJjb25kaXRpb25Qb3NpdGlvbiIsImNvbmRpdGlvbk1lZGlhIiwidGFyZ2V0Iiwib2JqSHRtbCIsInNlbGYiLCJzdWJzdHJpbmciXSwibWFwcGluZ3MiOiJDQUFBLFdBRUksR0FBSUEsR0FBYUMsRUFBRSxvQkFFbkJDLFlBQVcsV0FDUEYsRUFBV0csU0FBUyxpQkFDckIsS0FFSEYsRUFBRUcsUUFBUUMsR0FBRyxPQUFRLFdBQ2pCSCxXQUFXLFdBQ1BGLEVBQVdHLFNBQVMsbUJBRXBCRCxXQUFXLFdBRVBELEVBQUUsUUFBUUssSUFBSSxXQUFZLFlBQzNCLE1BRUgsR0FBSUMsTUFBTUMsUUFFWCxXQUtYUCxFQUFFUSxVQUFVQyxNQUFNLFdBRWRULEVBQUVVLEtBQUssK0JBQStCQyxLQUFLLFNBQVVDLEdBQVFaLEVBQUUsZUFBZWEsS0FBS0QsRUFBS0UsV0FpQjVGZCxFQUFFUSxVQUFVQyxNQUFNLFdBeVNkLFFBQVNNLEdBQWdCQyxFQUFTQyxHQUM5QmpCLEVBQUVnQixHQUFTRSxNQUFNLFNBQVNDLEdBQ3RCLEdBQUlDLEdBQWVwQixFQUFFcUIsTUFBTUMsS0FBSyxRQUM1QkMsRUFBY3ZCLEVBQUVvQixHQUFjSCxTQUFTTyxHQUN2Q0QsR0FBYyxJQUFLQSxFQUFjLEdBQ3JDdkIsRUFBRSxjQUFjeUIsU0FBVUMsVUFBV0gsRUFBY04sR0FBVSxRQUM3REUsRUFBRVEsbUJBN1NWMUIsV0FBVyxXQUNQRCxFQUFFLFVBQVVzQixLQUFLLE1BQU8sOEJBQ3pCLE1BR0gsV0FFSU0sTUFBTUMsS0FBS3RCLE9BQ1hxQixNQUFNRSxTQUFTdkIsT0FFZlAsRUFBRSxRQUFRK0IsT0FBTyxnRkFDakIsSUFBSUMs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QUFLLHNCQUVyQ2IsRUFBRVEsVUFBVWtELEtBQUssZUFBZTdDLEtBQUssZUFjakRFLEVBQWdCLG9CQUFxQiIsImZpbGUiOiJjb21tb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgJHByZWxvYWRlciA9ICQoJy5nbG9iYWwtcHJlbG9hZGVyJyk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkcHJlbG9hZGVyLmFkZENsYXNzKCdpcy1sb2dvLXNob3cnKTtcbiAgICB9LCA1NTApO1xuXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkcHJlbG9hZGVyLmFkZENsYXNzKCdpcy1jb250ZW50LWxvYWQnKTtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyAkcHJlbG9hZGVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ3Zpc2libGUnKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgICAgICBuZXcgV09XKCkuaW5pdCgpO1xuXG4gICAgICAgIH0sIDE1MDApO1xuICAgIH0pO1xufSkoKTtcblxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICQuYWpheCgnaHR0cDovLzE2Ny45OS4yMDMuMTA3OjgwODAvJykuZG9uZShmdW5jdGlvbiAoZGF0YSkgeyAkKCcjc3Bhbl9wcmljZScpLmh0bWwoZGF0YS5wcmljZSkgfSk7XG5cbiAgICAvLyB2YXIgcHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NwYW5fcHJpY2VcIik7XG4gICAgLy8gLy8gICBtYWtlIHRoZSByZXF1ZXN0XG4gICAgLy8gdmFyIFhIUiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgLy8gWEhSLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgIC8vICAgICBpZiAoWEhSLnJlYWR5U3RhdGUgPT0gNCAmJiBYSFIuc3RhdHVzID09IDIwMCkge1xuICAgIC8vICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKFhIUi5yZXNwb25zZVRleHQpLnByaWNlO1xuICAgIC8vICAgICAgICAgcHJpY2UuaW5uZXJIVE1MID0gZGF0YTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIFhIUi5vcGVuKFwiR0VUXCIsIFwiaHR0cDovLzE2Ny45OS4yMDMuMTA3OjgwODBcIik7XG4gICAgLy8gWEhSLnNlbmQoKTtcbn0pO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJ2lmcmFtZScpLmF0dHIoJ3NyYycsICdodHRwczovL3d3dy52ZW50dXNreS5jb20vJyk7XG4gICAgfSwgMzUwMCk7XG5cbiAgICAvLyBCQVJCQS5KU1xuICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgLy9QbGVhc2Ugbm90ZSwgdGhlIERPTSBzaG91bGQgYmUgcmVhZHlcbiAgICAgICAgQmFyYmEuUGpheC5pbml0KCk7XG4gICAgICAgIEJhcmJhLlByZWZldGNoLmluaXQoKTtcblxuICAgICAgICAkKCdib2R5JykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwicGFnZS1wcmVsb2FkZXJcIj48ZGl2IGNsYXNzPVwiZ2xvYmFsLXByZWxvYWRlcl9fdW5kZXJcIj48L2Rpdj48L2Rpdj4nKTtcbiAgICAgICAgdmFyICRwYWdlUHJlbG9hZGVyID0gJCgnLnBhZ2UtcHJlbG9hZGVyJyk7XG5cbiAgICAgICAgdmFyIEZhZGVUcmFuc2l0aW9uID0gQmFyYmEuQmFzZVRyYW5zaXRpb24uZXh0ZW5kKHtcbiAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIC5hbGwoW3RoaXMubmV3Q29udGFpbmVyTG9hZGluZywgdGhpcy5zaG93TG9hZGVyKCldKVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0aGlzLmhpZGVMb2FkZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzaG93TG9hZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkcGFnZVByZWxvYWRlci5hZGRDbGFzcygnaXMtcGFnZS1sb2FkLXN0YXJ0Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzLm9sZENvbnRhaW5lcikucHJvbWlzZSgpO1xuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBoaWRlTG9hZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHZhciAkZWwgPSAkKHRoaXMubmV3Q29udGFpbmVyKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICRwYWdlUHJlbG9hZGVyLmFkZENsYXNzKCdpcy1wYWdlLWxvYWQtZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vINCm0JUg0KLQntCR0IYg0J3QlSDQndCQ0JTQkFxuICAgICAgICAgICAgICAgICAgICAkZWwuYW5pbWF0ZSh7fSwgNDAwLCBmdW5jdGlvbigpIHsgX3RoaXMuZG9uZSgpOyB9KTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHBhZ2VQcmVsb2FkZXIucmVtb3ZlQ2xhc3MoJ2lzLXBhZ2UtbG9hZC1zdGFydCBpcy1wYWdlLWxvYWQtZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDQktGA0LXQvNGPINGA0LXRhNGA0LXRiNCwINC/0YDQtdC70L7QsNC00LXRgNCwXG4gICAgICAgICAgICAgICAgICAgIH0sIDgwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8g0JLRgNC10LzRjyDQuNGB0YfQtdC30L3QvtCy0LXQvdC40Y8g0L/RgNC10LvQvtCw0LTQtdGA0LBcbiAgICAgICAgICAgICAgICAgICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBCYXJiYS5EaXNwYXRjaGVyLm9uKCduZXdQYWdlUmVhZHknLCBmdW5jdGlvbihjdXJyZW50U3RhdHVzLCBvbGRTdGF0dXMsIGNvbnRhaW5lcikge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkLmVhY2goJCgnLmFuaW1hdGVkJyksIGZ1bmN0aW9uKCkgeyAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhbmltYXRlZCcpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7IH0pO1xuICAgICAgICAgICAgICAgIG5ldyBXT1coKS5pbml0KCk7XG5cbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJ2lmcmFtZScpLmF0dHIoJ3NyYycsICdodHRwczovL3d3dy52ZW50dXNreS5jb20vJyk7XG4gICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgQmFyYmEuUGpheC5nZXRUcmFuc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gRmFkZVRyYW5zaXRpb247XG4gICAgICAgIH07XG4gICAgfSkoKTtcblxuICAgICQoJy5mLXJpZ2h0X19zaG93JykuaG92ZXIoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuZi1yaWdodF9fZHJvcGRvd24nKS5mYWRlSW4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuZi1yaWdodF9fZHJvcGRvd24nKS5mYWRlT3V0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJChkb2N1bWVudCkud2lkdGgoKSA+IDk5Mykge1xuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ21vdXNlb3ZlcicsICcuaGVhZGVyX19sYW5ndWFnZXMnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLmhlYWRlcl9fbW9yZS1sYW5ndWFnZXMnKS5mYWRlSW4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ21vdXNlbGVhdmUnLCAnLmhlYWRlcl9fbGFuZ3VhZ2VzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5oZWFkZXJfX21vcmUtbGFuZ3VhZ2VzJykuZmFkZU91dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7fVxuICAgIH0pKCk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignbW91c2VvdmVyJywgJy5ob3Zlci1saW5rJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkuYWRkQ2xhc3MoJ2lzLWhvdmVyJyk7XG4gICAgfSk7XG4gICAgJChkb2N1bWVudCkub24oJ21vdXNlbGVhdmUnLCAnLmhvdmVyLWxpbmsnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnaXMtaG92ZXInKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI25hdi1pY29uMicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgJCgnLmhlYWRlcl9fbGVmdC1tb2JpbGUnKS50b2dnbGVDbGFzcygnaXMtb3BlbicpO1xuICAgICAgICAgICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI25hdi1pY29uMi5vcGVuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdycsICdhdXRvJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcubWVudS1saW5rJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCd1bCBsaSBhJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAgICAgJCgnLmVudGVyLWxpbmsnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcuaGVhZGVyX19sZWZ0LW1vYmlsZScpLnJlbW92ZUNsYXNzKCdpcy1vcGVuJyk7XG4gICAgICAgICAgICAkKCcjbmF2LWljb24yJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmVudGVyLWxpbmsnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJy5oZWFkZXIgYScpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy5oZWFkZXJfX2xlZnQtbW9iaWxlJykucmVtb3ZlQ2xhc3MoJ2lzLW9wZW4nKTtcbiAgICAgICAgICAgICQoJyNuYXYtaWNvbjInKS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gV09XXG5cbiAgICAvLyBuZXcgV09XKCkuaW5pdCgpO1xuXG5cbiAgICAkKFwiLmlucHV0LWxvZ2luXCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpICE9IFwiXCIpIHtcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoXCJhbmltYXRpb25cIik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoXCIubG9naW4taW5wdXRcIikuZm9jdXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoXCJhbmltYXRpb24gYW5pbWF0aW9uLWNvbG9yXCIpO1xuICAgIH0pO1xuXG4gICAgJChcIi5sb2dpbi1pbnB1dFwiKS5mb2N1c291dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09IFwiXCIpXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiYW5pbWF0aW9uXCIpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiYW5pbWF0aW9uLWNvbG9yXCIpO1xuICAgIH0pO1xuXG4gICAgLy8gSW5saW5lIHBvcHVwc1xuICAgICQoJy5vcGVuLXBvcHVwJykubWFnbmlmaWNQb3B1cCh7XG4gICAgICAgIHJlbW92YWxEZWxheTogNTAwLCAvL2RlbGF5IHJlbW92YWwgYnkgWCB0byBhbGxvdyBvdXQtYW5pbWF0aW9uXG4gICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdC5tYWluQ2xhc3MgPSB0aGlzLnN0LmVsLmF0dHIoJ2RhdGEtZWZmZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1pZENsaWNrOiB0cnVlXG4gICAgfSk7XG5cblxuICAgIC8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIC8vICAgICAkKCcucGVyc29uYWxfX2luZm8nKS5zbGljayh7XG4gICAgLy8gICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgLy8gICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAvLyAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgLy8gICAgICAgICBmYWRlOiB0cnVlLFxuICAgIC8vICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgICAvLyAgICAgICAgIGFzTmF2Rm9yOiAnLnBlcnNvbmFsX19pbWFnZS1jYXJvdXNlbCcsXG4gICAgLy8gICAgIH0pO1xuXG4gICAgLy8gICAgICQoJy5wZXJzb25hbF9faW1hZ2UtY2Fyb3VzZWwnKS5zbGljayh7XG4gICAgLy8gICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgLy8gICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAvLyAgICAgICAgIGFzTmF2Rm9yOiAnLnBlcnNvbmFsX19pbmZvJyxcbiAgICAvLyAgICAgICAgIGRvdHM6IHRydWUsXG4gICAgLy8gICAgICAgICBmb2N1c09uU2VsZWN0OiB0cnVlXG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH0pO1xuXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRvY3VtZW50KS5vbignbW91c2VvdmVyJywgJy5wZXJzb25hbF9fbGluaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciAkc2VsZiA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgdGFiSW5kZXggPSAkc2VsZi5pbmRleCgpO1xuICAgICAgICAgICAgJHNlbGYuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgICAgICAkc2VsZi5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcucGVyc29uYWxfX2ltYWdlJykuZmFkZU91dCgpLmVxKHRhYkluZGV4KS5mYWRlSW4oNTAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gcGVyc29uYWxJbmZvU2xpZGVySW5pdCgpIHtcblxuICAgICAgICAgICAgaWYgKCQoZG9jdW1lbnQpLndpZHRoKCkgPiA5OTIpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCgnLnBlcnNvbmFsX19pbmZvJykuaGFzQ2xhc3MoJ3NsaWNrLWluaXRpYWxpemVkJykpXG4gICAgICAgICAgICAgICAgICAgICQoJy5wZXJzb25hbF9faW5mbycpLnNsaWNrKCd1bnNsaWNrJyk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBpZiAoJCgnLnBlcnNvbmFsX19pbWFnZS1jYXJvdXNlbCcpLmhhc0NsYXNzKCdzbGljay1pbml0aWFsaXplZCcpKVxuICAgICAgICAgICAgICAgICAgICAkKCcucGVyc29uYWxfX2ltYWdlLWNhcm91c2VsJykuc2xpY2soJ3Vuc2xpY2snKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkKCcucGVyc29uYWxfX2luZm8nKS5oYXNDbGFzcygnc2xpY2staW5pdGlhbGl6ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAkKCcucGVyc29uYWxfX2luZm8nKS5zbGljayh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiAnLnBlcnNvbmFsX19pbWFnZS1jYXJvdXNlbCcsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghJCgnLnBlcnNvbmFsX19pbWFnZS1jYXJvdXNlbCcpLmhhc0NsYXNzKCdzbGljay1pbml0aWFsaXplZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5wZXJzb25hbF9faW1hZ2UtY2Fyb3VzZWwnKS5zbGljayh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiAnLnBlcnNvbmFsX19pbmZvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1c09uU2VsZWN0OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBwZXJzb25hbEluZm9TbGlkZXJJbml0KCk7XG5cbiAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHBlcnNvbmFsSW5mb1NsaWRlckluaXQoKTtcbiAgICAgICAgfSk7XG4gICAgfSkoKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdhW2hyZWY9XCIjXCJdJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Nyb2xsQm90dG9tID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpO1xuICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gMjUwKSB7XG4gICAgICAgICAgICAkKCcuYm90dG9tLWFycm93JykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLmJvdHRvbS1hcnJvdycpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8vLy8vLy8vLy8vXG4gICAgLy8gVEVMRVBPUlQgUExVR0lOXG4gICAgLy8vLy8vLy8vLy8vXG5cbiAgICB2YXIgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnW2pzLXRlbGVwb3J0XScpLmVhY2goZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9ICQodmFsKVxuICAgICAgICAgICAgdmFyIG9iakh0bWwgPSAkKHZhbCkuaHRtbCgpO1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQoJ1tkYXRhLXRlbGVwb3J0LXRhcmdldD0nICsgJCh2YWwpLmRhdGEoJ3RlbGVwb3J0LXRvJykgKyAnXScpO1xuICAgICAgICAgICAgdmFyIGNvbmRpdGlvbk1lZGlhID0gJCh2YWwpLmRhdGEoJ3RlbGVwb3J0LWNvbmRpdGlvbicpLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIHZhciBjb25kaXRpb25Qb3NpdGlvbiA9ICQodmFsKS5kYXRhKCd0ZWxlcG9ydC1jb25kaXRpb24nKS5zdWJzdHJpbmcoMCwgMSk7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgb2JqSHRtbCAmJiBjb25kaXRpb25Qb3NpdGlvbikge1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdGVsZXBvcnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25kaXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvblBvc2l0aW9uID09PSBcIjxcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uID0gX3dpbmRvdy53aWR0aCgpIDwgY29uZGl0aW9uTWVkaWE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZGl0aW9uUG9zaXRpb24gPT09IFwiPlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb24gPSBfd2luZG93LndpZHRoKCkgPiBjb25kaXRpb25NZWRpYTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5odG1sKG9iakh0bWwpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmh0bWwoJycpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmh0bWwob2JqSHRtbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5odG1sKFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0ZWxlcG9ydCgpO1xuICAgICAgICAgICAgICAgIF93aW5kb3cub24oJ3Jlc2l6ZScsICh0ZWxlcG9ydCkpO1xuXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSkoKTtcblxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQoZG9jdW1lbnQpLndpZHRoKCkgPiAxMjY4KSB7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuZW50ZXItbGluaycpLmh0bWwoJ9Cj0LLRltC50YLQuCDQtNC+INC60LDQsdGW0L3QtdGC0YMnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5lbnRlci1saW5rJykuaHRtbCgn0KPQstGW0LnRgtC4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKGRvY3VtZW50KS53aWR0aCgpID4gMTI2OCkge1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5lbnRlci1saW5rJykuaHRtbCgn0KPQstGW0LnRgtC4INC00L4g0LrQsNCx0ZbQvdC10YLRgycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuZW50ZXItbGluaycpLmh0bWwoJ9Cj0LLRltC50YLQuCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KSgpO1xuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG9FbGVtZW50KGVsZW1lbnQsIG9mZnNldCkge1xuICAgICAgICAkKGVsZW1lbnQpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50Q2xpY2sgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpO1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gJChlbGVtZW50Q2xpY2spLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbiA8IDApIHsgZGVzdGluYXRpb24gPSAwOyB9XG4gICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogZGVzdGluYXRpb24gLSBvZmZzZXQgfSwgXCJzbG93XCIpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2Nyb2xsVG9FbGVtZW50KFwiYVtocmVmPScjYW5jaG9yJ11cIiwgNjcpO1xuXG59KTsiXX0=

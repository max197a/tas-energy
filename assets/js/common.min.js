!function(){var e=$(".global-preloader");setTimeout(function(){e.addClass("is-logo-show")},550),$(window).on("load",function(){setTimeout(function(){e.addClass("is-content-load"),setTimeout(function(){$("body").css("overflow","visible")},1e3),(new WOW).init()},1500)})}(),$(document).ready(function(){$.ajax("http://167.99.203.107:8080/").done(function(e){$("#span_price").html(e.price)})}),$(document).ready(function(){function e(e,n){$(e).click(function(e){var o=$(this).attr("href"),i=$(o).offset().top;i<0&&(i=0),$("html, body").animate({scrollTop:i-n},"slow"),e.preventDefault()})}$(document).on("click",".contacts__cities-item",function(e){e.preventDefault();var n=$(this),o=n.index();n.siblings().removeClass("is-active"),n.addClass("is-active"),$(".contacts__info-container").css("display","none").eq(o).fadeIn(500)}),setTimeout(function(){$("#weather-frame").attr("src","https://www.ventusky.com/")},3500),function(){Barba.Pjax.init(),Barba.Prefetch.init(),$("body").append('<div class="page-preloader"><div class="global-preloader__under"></div></div>');var e=$(".page-preloader"),n=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.showLoader()]).then(this.hideLoader.bind(this))},showLoader:function(){return e.addClass("is-page-load-start"),$(this.oldContainer).promise()},hideLoader:function(){var n=this,o=$(this.newContainer);setTimeout(function(){e.addClass("is-page-load-end"),o.animate({},400,function(){n.done()}),setTimeout(function(){e.removeClass("is-page-load-start is-page-load-end")},800),$("body").css("overflow","visible")},500)}});Barba.Dispatcher.on("newPageReady",function(e,n,o){setTimeout(function(){$.each($(".animated"),function(){$(this).removeClass("animated").removeAttr("style")}),(new WOW).init()},500),setTimeout(function(){$("iframe").attr("src","https://www.ventusky.com/")},1500)}),Barba.Pjax.getTransition=function(){return n}}(),$(".f-right__show").hover(function(e){$(this).find(".f-right__dropdown").fadeIn()},function(){$(".f-right__dropdown").fadeOut()}),function(){$(document).width()>993&&($(document).on("mouseover",".header__languages",function(e){e.preventDefault(),$(this).find(".header__more-languages").fadeIn()}),$(document).on("mouseleave",".header__languages",function(e){e.preventDefault(),$(this).find(".header__more-languages").fadeOut()}))}(),$(document).on("mouseover",".hover-link",function(e){e.preventDefault(),$(this).parent().parent().addClass("is-hover")}),$(document).on("mouseleave",".hover-link",function(e){e.preventDefault(),$(this).parent().parent().removeClass("is-hover")}),$(document).ready(function(){$(document).on("click","#nav-icon2",function(){$(this).toggleClass("open"),$(".header__left-mobile").toggleClass("is-open"),$("body").css("overflow","hidden")})}),$(document).ready(function(){$(document).on("click","#nav-icon2.open",function(){$("body").css("overflow","auto")})}),$(document).ready(function(){$(document).on("click",".menu-link",function(){$("ul li a").removeClass("is-active"),$(".enter-link").removeClass("is-active"),$(".header__left-mobile").removeClass("is-open"),$("#nav-icon2").removeClass("open"),$(this).addClass("is-active")})}),$(document).ready(function(){$(document).on("click",".enter-link",function(){$(".header a").removeClass("is-active"),$(".header__left-mobile").removeClass("is-open"),$("#nav-icon2").removeClass("open"),$(this).addClass("is-active")})}),$(".input-login").each(function(){""!=$(this).val()&&$(this).parent().addClass("animation")}),$(".login-input").focus(function(){$(this).parent().addClass("animation animation-color")}),$(".login-input").focusout(function(){""===$(this).val()&&$(this).parent().removeClass("animation"),$(this).parent().removeClass("animation-color")}),$(".open-popup").magnificPopup({removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect")}},midClick:!0}),function(){function e(){$(document).width()>992?($(".personal__info").hasClass("slick-initialized")&&$(".personal__info").slick("unslick"),$(".personal__image-carousel").hasClass("slick-initialized")&&$(".personal__image-carousel").slick("unslick")):($(".personal__info").hasClass("slick-initialized")||$(".personal__info").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,centerMode:!0,asNavFor:".personal__image-carousel"}),$(".personal__image-carousel").hasClass("slick-initialized")||$(".personal__image-carousel").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".personal__info",dots:!0,focusOnSelect:!0}))}$(document).on("mouseover",".personal__link",function(e){if($(this).hasClass("is-active"));else{e.preventDefault();var n=$(this),o=n.index();n.siblings().removeClass("is-active"),n.addClass("is-active"),$(".personal__image").fadeOut().eq(o).fadeIn(400)}}),e(),$(window).resize(function(){e()})}(),$(document).on("click",'a[href="#"]',function(e){e.preventDefault()}),$(window).scroll(function(){$(window).scrollTop()+$(window).height();$(window).scrollTop()>250?$(".bottom-arrow").addClass("is-active"):$(".bottom-arrow").removeClass("is-active")});var n=$(window);!function(){$("[js-teleport]").each(function(e,o){function i(){var e;"<"===r?e=n.width()<l:">"===r&&(e=n.width()>l),e?(s.html(a),t.html("")):(t.html(a),s.html(""))}var t=$(o),a=$(o).html(),s=$("[data-teleport-target="+$(o).data("teleport-to")+"]"),l=$(o).data("teleport-condition").substring(1),r=$(o).data("teleport-condition").substring(0,1);s&&a&&r&&(i(),n.on("resize",i))})}(),function(){$(document).width()>1268?$(document).find(".enter-link").html("Увійти до кабінету"):$(document).find(".enter-link").html("Увійти"),$(window).resize(function(){$(document).width()>1268?$(document).find(".enter-link").html("Увійти до кабінету"):$(document).find(".enter-link").html("Увійти")})}(),e("a[href='#anchor']",67)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyIkcHJlbG9hZGVyIiwiJCIsInNldFRpbWVvdXQiLCJhZGRDbGFzcyIsIndpbmRvdyIsIm9uIiwiY3NzIiwiV09XIiwiaW5pdCIsImRvY3VtZW50IiwicmVhZHkiLCJhamF4IiwiZG9uZSIsImRhdGEiLCJodG1sIiwicHJpY2UiLCJzY3JvbGxUb0VsZW1lbnQiLCJlbGVtZW50Iiwib2Zmc2V0IiwiY2xpY2siLCJlIiwiZWxlbWVudENsaWNrIiwidGhpcyIsImF0dHIiLCJkZXN0aW5hdGlvbiIsInRvcCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJwcmV2ZW50RGVmYXVsdCIsIiRzZWxmIiwidGFiSW5kZXgiLCJpbmRleCIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJlcSIsImZhZGVJbiIsIkJhcmJhIiwiUGpheCIsIlByZWZldGNoIiwiYXBwZW5kIiwiJHBhZ2VQcmVsb2FkZXIiLCJGYWRlVHJhbnNpdGlvbiIsIkJhc2VUcmFuc2l0aW9uIiwiZXh0ZW5kIiwic3RhcnQiLCJQcm9taXNlIiwiYWxsIiwibmV3Q29udGFpbmVyTG9hZGluZyIsInNob3dMb2FkZXIiLCJ0aGVuIiwiaGlkZUxvYWRlciIsImJpbmQiLCJvbGRDb250YWluZXIiLCJwcm9taXNlIiwiX3RoaXMiLCIkZWwiLCJuZXdDb250YWluZXIiLCJEaXNwYXRjaGVyIiwiY3VycmVudFN0YXR1cyIsIm9sZFN0YXR1cyIsImNvbnRhaW5lciIsImVhY2giLCJyZW1vdmVBdHRyIiwiZ2V0VHJhbnNpdGlvbiIsImhvdmVyIiwiZmluZCIsImZhZGVPdXQiLCJ3aWR0aCIsInBhcmVudCIsInRvZ2dsZUNsYXNzIiwidmFsIiwiZm9jdXMiLCJmb2N1c291dCIsIm1hZ25pZmljUG9wdXAiLCJyZW1vdmFsRGVsYXkiLCJjYWxsYmFja3MiLCJiZWZvcmVPcGVuIiwic3QiLCJtYWluQ2xhc3MiLCJlbCIsIm1pZENsaWNrIiwicGVyc29uYWxJbmZvU2xpZGVySW5pdCIsImhhc0NsYXNzIiwic2xpY2siLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImFycm93cyIsImZhZGUiLCJjZW50ZXJNb2RlIiwiYXNOYXZGb3IiLCJkb3RzIiwiZm9jdXNPblNlbGVjdCIsInJlc2l6ZSIsInNjcm9sbCIsImhlaWdodCIsIl93aW5kb3ciLCJpIiwidGVsZXBvcnQiLCJjb25kaXRpb24iLCJjb25kaXRpb25Qb3NpdGlvbiIsImNvbmRpdGlvbk1lZGlhIiwidGFyZ2V0Iiwib2JqSHRtbCIsInNlbGYiLCJzdWJzdHJpbmciXSwibWFwcGluZ3MiOiJDQUFBLFdBRUksR0FBSUEsR0FBYUMsRUFBRSxvQkFFbkJDLFlBQVcsV0FDUEYsRUFBV0csU0FBUyxpQkFDckIsS0FFSEYsRUFBRUcsUUFBUUMsR0FBRyxPQUFRLFdBQ2pCSCxXQUFXLFdBQ1BGLEVBQVdHLFNBQVMsbUJBRXBCRCxXQUFXLFdBRVBELEVBQUUsUUFBUUssSUFBSSxXQUFZLFlBQzNCLE1BRUgsR0FBSUMsTUFBTUMsUUFFWCxXQUtYUCxFQUFFUSxVQUFVQyxNQUFNLFdBRWRULEVBQUVVLEtBQUssK0JBQStCQyxLQUFLLFNBQVVDLEdBQVFaLEVBQUUsZUFBZWEsS0FBS0QsRUFBS0UsV0FpQjVGZCxFQUFFUSxVQUFVQyxNQUFNLFdBaVNkLFFBQVNNLEdBQWdCQyxFQUFTQyxHQUM5QmpCLEVBQUVnQixHQUFTRSxNQUFNLFNBQVNDLEdBQ3RCLEdBQUlDLEdBQWVwQixFQUFFcUIsTUFBTUMsS0FBSyxRQUM1QkMsRUFBY3ZCLEVBQUVvQixHQUFjSCxTQUFTTyxHQUN2Q0QsR0FBYyxJQUFLQSxFQUFjLEdBQ3JDdkIsRUFBRSxjQUFjeUIsU0FBVUMsVUFBV0gsRUFBY04sR0FBVSxRQUM3REUsRUFBRVEsbUJBclNWM0IsRUFBRVEsVUFBVUosR0FBRyxRQUFTLHlCQUEwQixTQUFTZSxHQUN2REEsRUFBRVEsZ0JBQ0YsSUFBSUMsR0FBUTVCLEVBQUVxQixNQUNWUSxFQUFXRCxFQUFNRSxPQUNyQkYsR0FBTUcsV0FBV0MsWUFBWSxhQUM3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LElBQVVDLEdBQVdILElBb0JyQkYsSUFDQUYsRUFBUTFGLEdBQUcsU0FBVSxTQU9qQyxXQUNRSixFQUFFUSxVQUFVMEQsUUFBVSxLQUN0QmxFLEVBQUVRLFVBQVV3RCxLQUFLLGVBQWVuRCxLQUFLLHNCQUVyQ2IsRUFBRVEsVUFBVXdELEtBQUssZUFBZW5ELEtBQUssVUFFekNiLEVBQUVHLFFBQVF3RixPQUFPLFdBQ1QzRixFQUFFUSxVQUFVMEQsUUFBVSxLQUN0QmxFLEVBQUVRLFVBQVV3RCxLQUFLLGVBQWVuRCxLQUFLLHNCQUVyQ2IsRUFBRVEsVUFBVXdELEtBQUssZUFBZW5ELEtBQUssZUFjakRFLEVBQWdCLG9CQUFxQiIsImZpbGUiOiJjb21tb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgJHByZWxvYWRlciA9ICQoJy5nbG9iYWwtcHJlbG9hZGVyJyk7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkcHJlbG9hZGVyLmFkZENsYXNzKCdpcy1sb2dvLXNob3cnKTtcbiAgICB9LCA1NTApO1xuXG4gICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkcHJlbG9hZGVyLmFkZENsYXNzKCdpcy1jb250ZW50LWxvYWQnKTtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyAkcHJlbG9hZGVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ3Zpc2libGUnKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgICAgICBuZXcgV09XKCkuaW5pdCgpO1xuXG4gICAgICAgIH0sIDE1MDApO1xuICAgIH0pO1xufSkoKTtcblxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICQuYWpheCgnaHR0cDovLzE2Ny45OS4yMDMuMTA3OjgwODAvJykuZG9uZShmdW5jdGlvbiAoZGF0YSkgeyAkKCcjc3Bhbl9wcmljZScpLmh0bWwoZGF0YS5wcmljZSkgfSk7XG5cbiAgICAvLyB2YXIgcHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NwYW5fcHJpY2VcIik7XG4gICAgLy8gLy8gICBtYWtlIHRoZSByZXF1ZXN0XG4gICAgLy8gdmFyIFhIUiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgLy8gWEhSLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgIC8vICAgICBpZiAoWEhSLnJlYWR5U3RhdGUgPT0gNCAmJiBYSFIuc3RhdHVzID09IDIwMCkge1xuICAgIC8vICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKFhIUi5yZXNwb25zZVRleHQpLnByaWNlO1xuICAgIC8vICAgICAgICAgcHJpY2UuaW5uZXJIVE1MID0gZGF0YTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIFhIUi5vcGVuKFwiR0VUXCIsIFwiaHR0cDovLzE2Ny45OS4yMDMuMTA3OjgwODBcIik7XG4gICAgLy8gWEhSLnNlbmQoKTtcbn0pO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY29udGFjdHNfX2NpdGllcy1pdGVtJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciAkc2VsZiA9ICQodGhpcyksXG4gICAgICAgICAgICB0YWJJbmRleCA9ICRzZWxmLmluZGV4KCk7XG4gICAgICAgICRzZWxmLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAkc2VsZi5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgICQoJy5jb250YWN0c19faW5mby1jb250YWluZXInKS5jc3MoJ2Rpc3BsYXknLCdub25lJykuZXEodGFiSW5kZXgpLmZhZGVJbig1MDApO1xuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnI3dlYXRoZXItZnJhbWUnKS5hdHRyKCdzcmMnLCAnaHR0cHM6Ly93d3cudmVudHVza3kuY29tLycpO1xuICAgIH0sIDM1MDApO1xuXG4gICAgLy8gQkFSQkEuSlNcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vUGxlYXNlIG5vdGUsIHRoZSBET00gc2hvdWxkIGJlIHJlYWR5XG4gICAgICAgIEJhcmJhLlBqYXguaW5pdCgpO1xuICAgICAgICBCYXJiYS5QcmVmZXRjaC5pbml0KCk7XG5cbiAgICAgICAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInBhZ2UtcHJlbG9hZGVyXCI+PGRpdiBjbGFzcz1cImdsb2JhbC1wcmVsb2FkZXJfX3VuZGVyXCI+PC9kaXY+PC9kaXY+Jyk7XG4gICAgICAgIHZhciAkcGFnZVByZWxvYWRlciA9ICQoJy5wYWdlLXByZWxvYWRlcicpO1xuXG4gICAgICAgIHZhciBGYWRlVHJhbnNpdGlvbiA9IEJhcmJhLkJhc2VUcmFuc2l0aW9uLmV4dGVuZCh7XG4gICAgICAgICAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgUHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAuYWxsKFt0aGlzLm5ld0NvbnRhaW5lckxvYWRpbmcsIHRoaXMuc2hvd0xvYWRlcigpXSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4odGhpcy5oaWRlTG9hZGVyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc2hvd0xvYWRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHBhZ2VQcmVsb2FkZXIuYWRkQ2xhc3MoJ2lzLXBhZ2UtbG9hZC1zdGFydCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcy5vbGRDb250YWluZXIpLnByb21pc2UoKTtcblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaGlkZUxvYWRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgJGVsID0gJCh0aGlzLm5ld0NvbnRhaW5lcik7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkcGFnZVByZWxvYWRlci5hZGRDbGFzcygnaXMtcGFnZS1sb2FkLWVuZCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyDQptCVINCi0J7QkdCGINCd0JUg0J3QkNCU0JBcbiAgICAgICAgICAgICAgICAgICAgJGVsLmFuaW1hdGUoe30sIDQwMCwgZnVuY3Rpb24oKSB7IF90aGlzLmRvbmUoKTsgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYWdlUHJlbG9hZGVyLnJlbW92ZUNsYXNzKCdpcy1wYWdlLWxvYWQtc3RhcnQgaXMtcGFnZS1sb2FkLWVuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0JLRgNC10LzRjyDRgNC10YTRgNC10YjQsCDQv9GA0LXQu9C+0LDQtNC10YDQsFxuICAgICAgICAgICAgICAgICAgICB9LCA4MDApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vINCS0YDQtdC80Y8g0LjRgdGH0LXQt9C90L7QstC10L3QuNGPINC/0YDQtdC70L7QsNC00LXRgNCwXG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgQmFyYmEuRGlzcGF0Y2hlci5vbignbmV3UGFnZVJlYWR5JywgZnVuY3Rpb24oY3VycmVudFN0YXR1cywgb2xkU3RhdHVzLCBjb250YWluZXIpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJC5lYWNoKCQoJy5hbmltYXRlZCcpLCBmdW5jdGlvbigpIHsgJCh0aGlzKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQnKS5yZW1vdmVBdHRyKCdzdHlsZScpOyB9KTtcbiAgICAgICAgICAgICAgICBuZXcgV09XKCkuaW5pdCgpO1xuXG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCdpZnJhbWUnKS5hdHRyKCdzcmMnLCAnaHR0cHM6Ly93d3cudmVudHVza3kuY29tLycpO1xuICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEJhcmJhLlBqYXguZ2V0VHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIEZhZGVUcmFuc2l0aW9uO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG5cbiAgICAkKCcuZi1yaWdodF9fc2hvdycpLmhvdmVyKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnLmYtcmlnaHRfX2Ryb3Bkb3duJykuZmFkZUluKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnLmYtcmlnaHRfX2Ryb3Bkb3duJykuZmFkZU91dCgpO1xuICAgICAgICB9KTtcblxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQoZG9jdW1lbnQpLndpZHRoKCkgPiA5OTMpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZW92ZXInLCAnLmhlYWRlcl9fbGFuZ3VhZ2VzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5oZWFkZXJfX21vcmUtbGFuZ3VhZ2VzJykuZmFkZUluKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZWxlYXZlJywgJy5oZWFkZXJfX2xhbmd1YWdlcycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuaGVhZGVyX19tb3JlLWxhbmd1YWdlcycpLmZhZGVPdXQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge31cbiAgICB9KSgpO1xuXG4gICAgJChkb2N1bWVudCkub24oJ21vdXNlb3ZlcicsICcuaG92ZXItbGluaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmFkZENsYXNzKCdpcy1ob3ZlcicpO1xuICAgIH0pO1xuICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZWxlYXZlJywgJy5ob3Zlci1saW5rJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2lzLWhvdmVyJyk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNuYXYtaWNvbjInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAgICQoJy5oZWFkZXJfX2xlZnQtbW9iaWxlJykudG9nZ2xlQ2xhc3MoJ2lzLW9wZW4nKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNuYXYtaWNvbjIub3BlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnYXV0bycpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLm1lbnUtbGluaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgndWwgbGkgYScpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy5lbnRlci1saW5rJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAgICAgJCgnLmhlYWRlcl9fbGVmdC1tb2JpbGUnKS5yZW1vdmVDbGFzcygnaXMtb3BlbicpO1xuICAgICAgICAgICAgJCgnI25hdi1pY29uMicpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5lbnRlci1saW5rJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuaGVhZGVyIGEnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcuaGVhZGVyX19sZWZ0LW1vYmlsZScpLnJlbW92ZUNsYXNzKCdpcy1vcGVuJyk7XG4gICAgICAgICAgICAkKCcjbmF2LWljb24yJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIFdPV1xuXG4gICAgLy8gbmV3IFdPVygpLmluaXQoKTtcblxuXG4gICAgJChcIi5pbnB1dC1sb2dpblwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKFwiYW5pbWF0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKFwiLmxvZ2luLWlucHV0XCIpLmZvY3VzKGZ1bmN0aW9uKCkge1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKFwiYW5pbWF0aW9uIGFuaW1hdGlvbi1jb2xvclwiKTtcbiAgICB9KTtcblxuICAgICQoXCIubG9naW4taW5wdXRcIikuZm9jdXNvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSBcIlwiKVxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhcImFuaW1hdGlvblwiKTtcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhcImFuaW1hdGlvbi1jb2xvclwiKTtcbiAgICB9KTtcblxuICAgIC8vIElubGluZSBwb3B1cHNcbiAgICAkKCcub3Blbi1wb3B1cCcpLm1hZ25pZmljUG9wdXAoe1xuICAgICAgICByZW1vdmFsRGVsYXk6IDUwMCwgLy9kZWxheSByZW1vdmFsIGJ5IFggdG8gYWxsb3cgb3V0LWFuaW1hdGlvblxuICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3QubWFpbkNsYXNzID0gdGhpcy5zdC5lbC5hdHRyKCdkYXRhLWVmZmVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtaWRDbGljazogdHJ1ZVxuICAgIH0pO1xuXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRvY3VtZW50KS5vbignbW91c2VvdmVyJywgJy5wZXJzb25hbF9fbGluaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSkge30gXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdmFyICRzZWxmID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXggPSAkc2VsZi5pbmRleCgpO1xuICAgICAgICAgICAgICAgICRzZWxmLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICRzZWxmLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKCcucGVyc29uYWxfX2ltYWdlJykuZmFkZU91dCgpLmVxKHRhYkluZGV4KS5mYWRlSW4oNDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gcGVyc29uYWxJbmZvU2xpZGVySW5pdCgpIHtcblxuICAgICAgICAgICAgaWYgKCQoZG9jdW1lbnQpLndpZHRoKCkgPiA5OTIpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCgnLnBlcnNvbmFsX19pbmZvJykuaGFzQ2xhc3MoJ3NsaWNrLWluaXRpYWxpemVkJykpXG4gICAgICAgICAgICAgICAgICAgICQoJy5wZXJzb25hbF9faW5mbycpLnNsaWNrKCd1bnNsaWNrJyk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBpZiAoJCgnLnBlcnNvbmFsX19pbWFnZS1jYXJvdXNlbCcpLmhhc0NsYXNzKCdzbGljay1pbml0aWFsaXplZCcpKVxuICAgICAgICAgICAgICAgICAgICAkKCcucGVyc29uYWxfX2ltYWdlLWNhcm91c2VsJykuc2xpY2soJ3Vuc2xpY2snKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkKCcucGVyc29uYWxfX2luZm8nKS5oYXNDbGFzcygnc2xpY2staW5pdGlhbGl6ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAkKCcucGVyc29uYWxfX2luZm8nKS5zbGljayh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiAnLnBlcnNvbmFsX19pbWFnZS1jYXJvdXNlbCcsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghJCgnLnBlcnNvbmFsX19pbWFnZS1jYXJvdXNlbCcpLmhhc0NsYXNzKCdzbGljay1pbml0aWFsaXplZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5wZXJzb25hbF9faW1hZ2UtY2Fyb3VzZWwnKS5zbGljayh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiAnLnBlcnNvbmFsX19pbmZvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1c09uU2VsZWN0OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBwZXJzb25hbEluZm9TbGlkZXJJbml0KCk7XG5cbiAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHBlcnNvbmFsSW5mb1NsaWRlckluaXQoKTtcbiAgICAgICAgfSk7XG4gICAgfSkoKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdhW2hyZWY9XCIjXCJdJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Nyb2xsQm90dG9tID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpO1xuICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gMjUwKSB7XG4gICAgICAgICAgICAkKCcuYm90dG9tLWFycm93JykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLmJvdHRvbS1hcnJvdycpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8vLy8vLy8vLy8vXG4gICAgLy8gVEVMRVBPUlQgUExVR0lOXG4gICAgLy8vLy8vLy8vLy8vXG5cbiAgICB2YXIgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnW2pzLXRlbGVwb3J0XScpLmVhY2goZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9ICQodmFsKVxuICAgICAgICAgICAgdmFyIG9iakh0bWwgPSAkKHZhbCkuaHRtbCgpO1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQoJ1tkYXRhLXRlbGVwb3J0LXRhcmdldD0nICsgJCh2YWwpLmRhdGEoJ3RlbGVwb3J0LXRvJykgKyAnXScpO1xuICAgICAgICAgICAgdmFyIGNvbmRpdGlvbk1lZGlhID0gJCh2YWwpLmRhdGEoJ3RlbGVwb3J0LWNvbmRpdGlvbicpLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIHZhciBjb25kaXRpb25Qb3NpdGlvbiA9ICQodmFsKS5kYXRhKCd0ZWxlcG9ydC1jb25kaXRpb24nKS5zdWJzdHJpbmcoMCwgMSk7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgb2JqSHRtbCAmJiBjb25kaXRpb25Qb3NpdGlvbikge1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdGVsZXBvcnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25kaXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvblBvc2l0aW9uID09PSBcIjxcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uID0gX3dpbmRvdy53aWR0aCgpIDwgY29uZGl0aW9uTWVkaWE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZGl0aW9uUG9zaXRpb24gPT09IFwiPlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb24gPSBfd2luZG93LndpZHRoKCkgPiBjb25kaXRpb25NZWRpYTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5odG1sKG9iakh0bWwpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmh0bWwoJycpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmh0bWwob2JqSHRtbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5odG1sKFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0ZWxlcG9ydCgpO1xuICAgICAgICAgICAgICAgIF93aW5kb3cub24oJ3Jlc2l6ZScsICh0ZWxlcG9ydCkpO1xuXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSkoKTtcblxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQoZG9jdW1lbnQpLndpZHRoKCkgPiAxMjY4KSB7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuZW50ZXItbGluaycpLmh0bWwoJ9Cj0LLRltC50YLQuCDQtNC+INC60LDQsdGW0L3QtdGC0YMnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5lbnRlci1saW5rJykuaHRtbCgn0KPQstGW0LnRgtC4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKGRvY3VtZW50KS53aWR0aCgpID4gMTI2OCkge1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5lbnRlci1saW5rJykuaHRtbCgn0KPQstGW0LnRgtC4INC00L4g0LrQsNCx0ZbQvdC10YLRgycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuZW50ZXItbGluaycpLmh0bWwoJ9Cj0LLRltC50YLQuCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KSgpO1xuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG9FbGVtZW50KGVsZW1lbnQsIG9mZnNldCkge1xuICAgICAgICAkKGVsZW1lbnQpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50Q2xpY2sgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpO1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gJChlbGVtZW50Q2xpY2spLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbiA8IDApIHsgZGVzdGluYXRpb24gPSAwOyB9XG4gICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogZGVzdGluYXRpb24gLSBvZmZzZXQgfSwgXCJzbG93XCIpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2Nyb2xsVG9FbGVtZW50KFwiYVtocmVmPScjYW5jaG9yJ11cIiwgNjcpO1xuXG59KTsiXX0=
